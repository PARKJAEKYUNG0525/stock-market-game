<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoneyGame</title>

<style>
body { 
margin:0; font-family:sans-serif; 
}
#gametitle { 
margin:0; border:solid darkred; padding:10px; 
}

.container { 
display:flex; 
}
.column { 
display:flex; flex-direction:column; margin:10px; 
}

nav {
    border:solid darkgreen;
    padding:10px;
    width:150px;
}

main {
    flex:1;
    border:solid darkgoldenrod;
    padding:10px;
}

ul { padding-left:0; list-style-position:inside; }
h3,h4,h5 { margin:3px 0; }

input { width:60px; }
button { width:50px; }
</style>
</head>

<body>

<h2 id="gametitle">MoneyGame</h2>

<div class="container">

<nav>
    <h4>Menu</h4>
    <ul>
        <li onclick="nextDay()">next day</li>
        <li onclick="shop()">shop</li>
        <li onclick="gameStop()">gameEnd</li>
    </ul>
    <hr>
    <h4>보유 잔고</h4>
    <h4 id="money">10000</h4>
</nav>

<main>

<!-- 가격 -->
<div class="container">
    <div class="column"><h4>Jelly</h4><h3 class="price">1000</h3></div>
    <div class="column"><h4>Candy</h4><h3 class="price">1000</h3></div>
    <div class="column"><h4>Cookie</h4><h3 class="price">1000</h3></div>
    <div class="column"><h4>Cupcake</h4><h3 class="price">1000</h3></div>
    <div class="column"><h4>Chocolate</h4><h3 class="price">1000</h3></div>
</div>

<hr>

<!-- 거래 -->
<div class="container">

    <div class="column">
        <h4>Jelly</h4>
        <h5 class="wallet">보유 : 0</h5>
        <input type="text" class="input">
        <div>
            <button onclick="buy(0)">buy</button>
            <button onclick="sell(0)">sell</button>
        </div>
    </div>

    <div class="column">
        <h4>Candy</h4>
        <h5 class="wallet">보유 : 0</h5>
        <input type="text" class="input">
        <div>
            <button onclick="buy(1)">buy</button>
            <button onclick="sell(1)">sell</button>
        </div>
    </div>

    <div class="column">
        <h4>Cookie</h4>
        <h5 class="wallet">보유 : 0</h5>
        <input type="text" class="input">
        <div>
            <button onclick="buy(2)">buy</button>
            <button onclick="sell(2)">sell</button>
        </div>
    </div>

    <div class="column">
        <h4>Cupcake</h4>
        <h5 class="wallet">보유 : 0</h5>
        <input type="text" class="input">
        <div>
            <button onclick="buy(3)">buy</button>
            <button onclick="sell(3)">sell</button>
        </div>
    </div>

    <div class="column">
        <h4>Chocolate</h4>
        <h5 class="wallet">보유 : 0</h5>
        <input type="text" class="input">
        <div>
            <button onclick="buy(4)">buy</button>
            <button onclick="sell(4)">sell</button>
        </div>
    </div>

</div>

</main>
</div>

<script>
function buy(idx){
    let money = document.getElementById("money");
    let prices = document.getElementsByClassName("price");
    let wallets = document.getElementsByClassName("wallet");
    let inputs = document.getElementsByClassName("input");

    let price = parseInt(prices[idx].innerText);
    let qty = parseInt(inputs[idx].value);

    if(isNaN(qty) || qty <= 0){
        alert("수량을 숫자로 입력하세요");
        return;
    }

    let total = price * qty;
    let currentMoney = parseInt(money.innerText);

    if(currentMoney < total){
        alert("돈이 부족합니다");
        return;
    }

    currentMoney -= total;
    money.innerText = currentMoney;

    let currentStock = parseInt(wallets[idx].innerText.replace("보유 : ",""));
    wallets[idx].innerText = "보유 : " + (currentStock + qty);
}

function sell(idx){
    let money = document.getElementById("money");
    let prices = document.getElementsByClassName("price");
    let wallets = document.getElementsByClassName("wallet");
    let inputs = document.getElementsByClassName("input");

    let price = parseInt(prices[idx].innerText);
    let qty = parseInt(inputs[idx].value);

    if(isNaN(qty) || qty <= 0){
        alert("수량을 숫자로 입력하세요");
        return;
    }

    let currentStock = parseInt(wallets[idx].innerText.replace("보유 : ",""));

    if(currentStock < qty){
        alert("보유 수량 부족");
        return;
    }

    wallets[idx].innerText = "보유 : " + (currentStock - qty);

    let currentMoney = parseInt(money.innerText);
    money.innerText = currentMoney + (price * qty);
}

function nextDay(){ alert("다음날! (가격 변동 기능 추가 가능)"); }
function shop(){ alert("준비중입니다!"); }
function gameStop(){ alert("게임 종료"); }
</script>

</body>
</html>
